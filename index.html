
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

    <script src="js/libs/jquery-1.9.1.min.js"></script>
    <script src="js/libs/handlebars-1.0.0-rc.4.js"></script>
    <script src="js/libs/ember-1.0.0-rc.5.js"></script>

    <script type="text/x-handlebars" data-template-name="application">
      <header>
      <h1>Fonebone, Inc.</h1>
      </header>

      <div>
      {{outlet derp}}
      </div>

      <footer>
      &copy; 2112 Fonebone, Inc.
      </footer>
    </script>

    <script type="text/x-handlebars" data-template-name="main">
      Hello {{view App.Thing}} Goodbye
    </script>

    <script>
      var App = Ember.Application.create();
      Ember.Application.initializer({
        name: 'thing',
        initialize: function (container, application) {
          application.register('view:thing', App.Thing, {instantiate: false});
        }
      });

      App.IndexRoute = Ember.Route.extend({
        renderTemplate: function () {
          this.render('main', {
            outlet: 'derp',
            controller: 'foo'
          });
        }
      });

      App.ThingA = Ember.View.extend({
        template: Handlebars.compile('<form><a href="#">HELLO A</a></form>')
      });
      App.ThingB = Ember.View.extend({
        template: Handlebars.compile('<form><a href="#">HELLO B</a></form>')
      });

      App.IndexController = Ember.Controller.extend({
        barbaz: 'QWER'
      });
      App.FooController = App.IndexController.extend({
        barbaz: 'ZXCV',
        ctor: App.ThingA
      });
      App.BarController = App.IndexController.extend({
        barbaz: 'ZXCV',
        ctor: App.ThingB
      });

      App.Thing = Ember.ContainerView.extend({
        //template: Handlebars.compile('<form><a href="#">HELLO</a></form>')
        init: function () {
          this._super();
          var ctor = this.get('controller').get('ctor');
          this.pushObject(ctor.create());
        }
      });

    </script>

  </body>
</html>

